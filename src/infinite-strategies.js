"use strict";[].slice.call(document.querySelectorAll(".infinite-strategies-section")).forEach((function(t){function e(){const e=t.getBoundingClientRect(),o=e.top>0&&e.top<=window.innerHeight,i=e.bottom>0&&e.bottom<=window.innerHeight;if(!o&&!i)return;if(1===parseInt(t.dataset.isWorking||"0",10))return;const s=[].slice.call(document.querySelectorAll(".single-content")).pop(),r=parseInt(s.dataset.postId,10);t.dataset.isWorking="1",function(t){const e=window.ajaxUrl+"?action=get_next_post_content&post_id="+t,o=new XMLHttpRequest;o.addEventListener("load",n),o.open("GET",e),o.send()}(r)}function n(e){const n=e.target;if(n.readyState!==n.DONE)return;const i=JSON.parse(n.response);if(!i.success)return void t.parentNode.removeChild(t);const s=(new DOMParser).parseFromString(i.content,"text/html");[].slice.call(s.querySelectorAll("[data-load-after-ajax]")).forEach(o);const r=s.querySelector(".single-content");r instanceof HTMLElement&&t.parentNode.insertBefore(r,t);const a=i.content.match("<title>(.*?)</title>");a instanceof Array&&a.length>=1&&(document.title=a[1]),history.pushState({},i.title,i.url),t.dataset.isWorking="0"}function o(t){const e=t.dataset.handle;"string"==typeof e&&0!==e.length&&(document.querySelector('[data-handle="'+e+'"]')instanceof HTMLElement||document.body.appendChild(t))}window.addEventListener("scroll",e,{passive:!0}),e()}));
//# sourceMappingURL=infinite-strategies.js.map
